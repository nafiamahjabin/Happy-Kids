<app-navbar></app-navbar>

<div class="container">
    <div class="border-class">
        <div class="row">
            <div class="col-md-2">
            </div>
            <div class="col-md-8">
               
                <div class="card" *ngIf="dataloaded">
                    <h3>User Profile</h3>
                     <img src="../../assets/images/rsz_propic.png" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">{{profile_data.firstname+' '+profile_data.lastname}}</h5>
                        <p class="card-text">Class: {{profile_data.class}} <br><br> School: {{profile_data.school}}
                            <br> <br>Mobile No: {{profile_data.mobile}} <br><br> Email: {{profile_data.email}}
                        </p>
                        <button class="btn btn-primary" (click)="onEditProfileClick()" *ngIf="hasAccess">Edit Profile</button>
                       
                    </div>
                </div>
            </div>
        </div>
        <div class="register-box" *ngIf="editClicked">
            <div class="card">
                <h3>Edit Profile</h3>
            <form>
                <div class="form-group">
                    <label for="exampleInputEmail1">First Name</label>
                    <input type="text" class="form-control" name='firstname' aria-describedby="emailHelp"
                        placeholder="{{profile_data.firstname}}" [(ngModel)]='register.firstname'>

                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Last Name</label>
                    <input type="text" class="form-control" name='lastname' aria-describedby="emailHelp"
                        placeholder="{{profile_data.lastname}}" [(ngModel)]='register.lastname'>

                </div>

                <div class="form-group">
                    <label for="exampleInputEmail1">Email</label>
                    <input type="text" class="form-control" name='email' aria-describedby="emailHelp"
                        placeholder="{{profile_data.email}}" [(ngModel)]='register.email'>

                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Username</label>
                    <input type="text" class="form-control" name='username' aria-describedby="emailHelp"
                        placeholder="{{profile_data.username}}" value="profile_data.username"
                        [(ngModel)]='register.username' readonly>

                </div>

                <div class="form-group">
                    <label for="exampleInputPassword1">Old Password</label><br>
                    <small >this is required field</small>
                    <input type="password" class="form-control" name='password' placeholder="Old Password"
                        [(ngModel)]='register.oldPassword'>
                    <div class="alert alert-danger alert-dismissible fade show" *ngIf='errorOcc'>
                        <strong>Error!</strong> {{errorMsg}}
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="exampleInputPassword1">New Password</label>
                    <input type="password" class="form-control" name='password' placeholder="New Password"
                        [(ngModel)]='register.newPassword'>
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Mobile NO.</label>
                    <input type="text" class="form-control" name='mobile' aria-describedby="emailHelp"
                        placeholder="{{profile_data.mobile}}" [(ngModel)]='register.mobile'>

                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Class</label>
                    <input type="text" class="form-control" name='cls' aria-describedby="emailHelp"
                        placeholder="{{profile_data.class}}" [(ngModel)]='register.cls'>

                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">School</label>
                    <input type="text" class="form-control" name='school' aria-describedby="emailHelp"
                        placeholder="{{profile_data.school}}" [(ngModel)]='register.school'>

                </div>
                <button type="submit" class="btn btn-primary" (click)="onUpdateClick()">Update Profile</button>
            </form>
            </div>
        </div>

    </div>
</div>

<app-footer></app-footer>